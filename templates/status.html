{% extends "status/status_list.html" %}

{% block title %}Status{% endblock %}

{% block navbar %}{% include "include/navbar-status.html" %}{% endblock %}

{% block list %}
    <tr>
        <th>RunID</th>
        <th>Problem</th>
        <th>Status</th>
        <th>Language</th>
        <th>Time</th>
        <th>Memory</th>
        <th>User</th>
        <th>SubmitTime</th>
    </tr>
    {% for item in list %}
        <tr
                {% ifequal item.status 1 %}
                    class="info"
                {% endifequal %}
                {% ifequal item.status 0 %}
                    class="success"
                {% else %}
                    class="danger"
                {% endifequal %}
         >
            <td>{{ item.id }}</td>
            <td><a href="/problem/{{ item.pid.id }}">{{ item.pid.title }}</a></td>
            {% ifequal item.pid.isCCF True %}
                 <td>{{ item.score }}</td>
                {% else %}
		{% ifequal item.get_status_display "Compilation Error" %}
		    {% ifequal item.uid.id user.id %}
			    <td><a href="/show_source?solution_id={{ item.id }}" target="_blank">{{ item.get_status_display }}</a></td>
			    {% else %}
				    <td>{{ item.get_status_display }}</td>
		    {% endifequal %}
                    {% else %}
			    <td>{{ item.get_status_display }}</td>
                {% endifequal %}
            {% endifequal %}
            {% ifequal item.uid.id user.id %}
                <td><a href="/show_source?solution_id={{ item.id }}" target="_blank">{{ item.get_lang_display }}</a></td>
            {% else %}
                <td>{{ item.get_lang_display }}</td>
            {% endifequal %}
            <td>{{ item.run_time }}ms</td>
            <td>{{ item.run_memory }}KB</td>
            <td>{{ item.uid.username }}</td>
            <td>{{ item.time | date:"Y-m-d H:i:s" }}</td>
        </tr>
    {% endfor %}
{% endblock %}
{% block page %}
    <ul class="pagination">
        {% for id in page %}
        <li><a class="{% if pg == id %}active{% else %}disabled{% endif %}" href="/status?pg={{ id }}">{{ id }}</a></li>
        {% endfor %}
    </ul>
{% endblock %}
